{"version":3,"sources":["redux/actions/register.js","utils/parseData.js","config/axios.js","config/ajax.js","redux/actions/app.js","redux/actions/route.js","redux/actions/index.js","redux/store.js","serviceWorker.js","utils/asyncComponent.jsx","config/routeConfig.js","utils/Auth.js","router.js","index.js","redux/actions/global.js","redux/actions/discuss.js","config/constant.js","redux/actions/flagSetting.js","redux/actions/login.js"],"names":["initState","validateUserNameStatus","help","__webpack_exports__","state","arguments","length","undefined","action","type","Object","D_code_set_flag_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","status","setValidateUserNameStatus","validateUserName","value","_ref","D_code_set_flag_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_code_set_flag_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","dispatch","userName","res","_parseData","code","msg","wrap","_context","prev","next","ajax","sent","parseData","t0","console","log","stop","this","_x","apply","register","values","_ref2","_callee2","_parseData2","data","_context2","window","localStorage","setItem","token","setUserInfo","_x2","_res$data","__webpack_require__","d","Axios","axios","create","baseURL","constant","imageBaseAddress","timeout","responseType","interceptors","request","use","config","error","message_default","Promise","reject","response","isShow","success","warning","getItem","removeItem","modal_default","confirm","title","onOk","store","path","isTo","onCancel","okText","cancelText","url","resolve","promise","dataStr","keys","forEach","key","substring","lastIndexOf","get","post","objectSpread","then","catch","combineReducers","app","login","global","route","flagSetting","discuss","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","createStore","reducers","Boolean","location","hostname","match","asyncComponent","importComponent","_Component","AsyncComponent","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","component","inherits","createClass","_componentDidMount","asyncToGenerator","regenerator_default","default","setState","C","react_default","createElement","Component","App","all","e","bind","SetFlag","Login","Register","routeConfig","exact","children","Auth","subscribe","getState","history","push","React","createRoutes","routes","item","childrenRoutes","react_router","render","renderRoute","AppRouter","handleCheckToken","react_router_dom","Auth_Auth","connect","checkToken","rootElement","document","getElementById","fastclick","attach","body","ReactDOM","es","router","navigator","serviceWorker","ready","registration","unregister","userInfo","sex","email","avatar","nickname","score","allTasks","rank","D_code_set_flag_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","D_code_set_flag_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","setAllTasks","setRank","items","pageList","total","fetchListPending","fetchListError","listNeedReload","loadEnd","comments","articles","list","page","concat","fetchListSuccess","addListItem","setComments","setArticles","fetchDataList","isLoaded","isSuccess","flags","visible","confirmLoading","tasks","setLoaded","setSuccess","getFlags","offset","setTimeout","getTasks","_ref4","_callee3","_context3","abrupt","username","D_code_set_flag_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_4__","getAvatar","D_code_set_flag_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","D_code_set_flag_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","_ref3","antd_lib_message__WEBPACK_IMPORTED_MODULE_1___default","loading","destroy"],"mappings":"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","file":"static/js/main.b5e541eb.chunk.js","sourcesContent":["import ajax from '../../config/ajax'\r\nimport { setUserInfo } from './global'\r\nimport parseData from '../../utils/parseData'\r\nconst VALIDATE_USERNAME = 'register/VALIDATE_USERNAME'\r\nconst initState = {\r\n    validateUserNameStatus: '',\r\n    help:''\r\n}\r\n\r\nexport default (state = initState, action = {}) => {\r\n    switch (action.type) {\r\n        case VALIDATE_USERNAME:\r\n            return {\r\n                ...state,\r\n                validateUserNameStatus: action.status,\r\n                help: action.help\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const setValidateUserNameStatus = (status, help='') => ({\r\n    type: VALIDATE_USERNAME,\r\n    status,\r\n    help\r\n})\r\nexport const validateUserName = value => async dispatch => {\r\n    let { userName } = value\r\n    try {\r\n        dispatch(setValidateUserNameStatus('validating'))\r\n        const res = await ajax('/register/validate_username', { userName }, 'post')\r\n        const {code, msg} = parseData(res)\r\n        if (code === 1) {\r\n            dispatch(setValidateUserNameStatus('error', msg))\r\n        } else if (code === 0) {\r\n            dispatch(setValidateUserNameStatus('success'))\r\n        }\r\n    } catch (e) {\r\n        dispatch(setValidateUserNameStatus('error', '请检查网络状况'))\r\n        console.log(e)\r\n    }\r\n}\r\n\r\nexport const register = values => async dispatch => {\r\n    try {\r\n        const res = await ajax('/register', values, 'post')\r\n        const {code, data} = parseData(res)\r\n        if (code === 0) {\r\n            window.localStorage.setItem('token', data.token)\r\n            dispatch(setUserInfo(data))\r\n        }\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n}\r\n","export default function parseData(res) {\r\n    const { msg, code } = res.data\r\n    const data = res.data.data\r\n    return { code, msg, data }\r\n}","import axios from 'axios'\r\n// import '../mock/login'\r\nimport {message, Modal} from 'antd'\r\nimport store from '../redux/store'\r\nimport constant from '../config/constant'\r\nconst Axios = axios.create({\r\n    baseURL: constant.imageBaseAddress,\r\n    // baseURL: 'http://localhost:8080/setFlag',\r\n    // baseURL: '/setFlag',\r\n    timeout: 5000,\r\n    responseType: 'json',\r\n    // headers: {\r\n    //     \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n    // }\r\n})\r\n\r\nAxios.interceptors.request.use(config => {\r\n    // let token = window.localStorage.getItem('token')\r\n    // let url = config.url\r\n    // if (!token && url.indexOf('login') === -1 && url.indexOf('register') === -1) {\r\n    //     Modal.confirm({\r\n    //         title: '访问该资源需要登录，是否前往登录',\r\n    //         onOk() {\r\n    //             store.dispatch({type: 'route/LINK_TO', path: '/login', isTo: true})\r\n    //             store.dispatch({type: 'route/LINK_TO', path: '/login', isTo: false})\r\n    //         },\r\n    //         onCancel() {\r\n                \r\n    //         },\r\n    //         okText:'确认',\r\n    //         cancelText: '取消'\r\n    //     })\r\n    // } else {\r\n    //     config.headers['Authorization'] = 'JWT ' + token\r\n    // }\r\n    // config.headers['Authorization'] = 'JWT ' + token\r\n    return config\r\n}, error => {\r\n    message.error(error,2)\r\n    return Promise.reject(error)\r\n})\r\n\r\nAxios.interceptors.response.use(config => {\r\n    let { msg } = config.data\r\n    if (config.data.code === 0 && config.data.isShow) {\r\n        message.success(msg, 2)\r\n    }\r\n    return config\r\n}, error => {\r\n    if (error.response) {\r\n        switch(error.response.status) {\r\n            case 403:\r\n                message.warning('没有权限',2)\r\n                break\r\n            case 401:\r\n                message.error('身份验证过期，请重新登录！',2)\r\n                if (window.localStorage.getItem('token')) {\r\n                    window.localStorage.removeItem('token')\r\n                }\r\n                Modal.confirm({\r\n                    title: '身份验证过期，是否前往登录',\r\n                    onOk() {\r\n                        store.dispatch({type: 'route/LINK_TO', path: '/login', isTo: true})\r\n                        store.dispatch({type: 'route/LINK_TO', path: '/login', isTo: false})\r\n                    },\r\n                    onCancel() {},\r\n                    okText:'确认',\r\n                    cancelText: '取消'  \r\n                })\r\n                break\r\n            case 500: \r\n                message.error('服务器出错！',23)\r\n                break\r\n            case 504:\r\n                message.error('网络超时！',2)\r\n                break\r\n            default:\r\n                break\r\n        }\r\n    } else {\r\n        message.error('请求超时',2)\r\n    }\r\n    return Promise.reject(error)\r\n})\r\nexport default Axios\r\n","import axios from './axios'\r\nexport default function(url, data={}, type='GET') {\r\n    return new Promise((resolve, reject) => {\r\n        let promise\r\n        if (type === 'GET') {  \r\n            let dataStr = '' \r\n            Object.keys(data).forEach(key => {    \r\n                dataStr += key + '=' + data[key] + '&'\r\n            })\r\n            if (dataStr !== '') {   \r\n                dataStr = dataStr.substring(0, dataStr.lastIndexOf('&'))\r\n                url = url + '?' + dataStr\r\n            }\r\n            promise = axios.get(url)\r\n        } else {\r\n            promise = axios.post(url, {...data, token: window.localStorage.getItem('token')})\r\n        }\r\n        promise.then((response) => {\r\n            resolve(response)\r\n        }).catch((error) => {\r\n            reject(error)\r\n        })\r\n    })\r\n}","const initState = {\r\n}\r\nexport default (state = initState, action = {}) => {\r\n  switch (action.type) {\r\n    default:\r\n      return state\r\n  }\r\n};\r\n\r\n","const LINK_TO = 'route/LINK_TO'\r\nconst initState = {\r\n    path: '/',\r\n    isTo: false\r\n}\r\nexport default (state = initState, action = {}) => {\r\n    switch (action.type) {\r\n        case LINK_TO:\r\n            return {\r\n                ...state,\r\n                path: action.path,\r\n                isTo: action.isTo\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n","import { combineReducers } from \"redux\";\r\nimport app from \"./app\"\r\nimport login from './login'\r\nimport register from './register'\r\nimport global from './global'\r\nimport route from './route'\r\nimport flagSetting from './flagSetting'\r\nimport discuss from './discuss'\r\nexport default combineReducers({\r\n  app,\r\n  login,\r\n  register,\r\n  global,\r\n  route,\r\n  flagSetting,\r\n  discuss\r\n});\r\n","import {\r\n    createStore,\r\n    applyMiddleware,\r\n    compose\r\n} from 'redux'\r\nimport reducers from \"./actions/index\";\r\nimport thunk from 'redux-thunk'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst enhancer = composeEnhancers(\r\n    applyMiddleware(thunk),\r\n);\r\nconst store = createStore(reducers, enhancer)\r\nexport default store","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n/**\r\n * 异步加载模块\r\n * @param {*} importComponent \r\n */\r\nexport default function asyncComponent(importComponent) {\r\n  class AsyncComponent extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        component: null\r\n      };\r\n    }\r\n\r\n    async componentDidMount() {\r\n      const { default: component } = await importComponent();\r\n      this.setState({ component });\r\n    }\r\n    render() {\r\n      const C = this.state.component;\r\n      return C ? <C {...this.props} /> : null;\r\n    }\r\n  }\r\n  return AsyncComponent;\r\n}","import asyncComponent from '../utils/asyncComponent'\r\nconst App = asyncComponent(() => import('../containers/App/index.js'))\r\nconst SetFlag = asyncComponent(() => import('../containers/SetFlag/index.js'))\r\nconst Login = asyncComponent(() => import('../containers/Login/index.js'))\r\nconst Register = asyncComponent(() => import('../containers/Register/index.js'))\r\nconst Home = asyncComponent(() => import('../containers/Home/index.js'))\r\nconst Profile = asyncComponent(() => import('../containers/Profile/index.js'))\r\nconst FlagDetail = asyncComponent(() => import('../components/FlagDetail/index'))\r\nconst FlagRecord = asyncComponent(() => import('../components/FlagRecord/index'))\r\nconst FlagReCommend = asyncComponent(() => import('../components/FlagReCommend/index'))\r\nconst FlagRank = asyncComponent(() => import('../components/FlagRank/index'))\r\nexport default [\r\n    {\r\n        path: '/',\r\n        component: SetFlag,\r\n        exact: true,\r\n    },\r\n    {\r\n        path: '/',\r\n        component: App,\r\n        children: [\r\n            {\r\n                path: '/home',\r\n                exact: true,\r\n                component: Home\r\n            },\r\n            {\r\n                path: '/login',\r\n                exact: true,\r\n                component: Login\r\n            },\r\n            {\r\n                path: '/register',\r\n                exact: true,\r\n                component: Register\r\n            },\r\n            {\r\n                path: '/profile',\r\n                exact: true,\r\n                component: Profile\r\n            },\r\n            {\r\n                path: '/detail/:id',\r\n                exact: true,\r\n                component: FlagDetail\r\n            },\r\n            {\r\n                path: '/record',\r\n                exact: true,\r\n                component: FlagRecord\r\n            },\r\n            {\r\n                path: '/recommend',\r\n                exact: true,\r\n                component: FlagReCommend\r\n            },\r\n            {\r\n                path: '/rank',\r\n                exact: true,\r\n                component: FlagRank\r\n            }\r\n        ]\r\n    },\r\n\r\n]\r\n\r\n","import React from 'react'\r\nimport store from '../redux/store'\r\nexport default class Auth extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        store.subscribe(() => {\r\n            if (store.getState().route.isTo) {\r\n                props.history.push(store.getState().route.path)\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        return <div>{ this.props.children }</div>\r\n    }\r\n}","import React from \"react\"\r\nimport { HashRouter as Router , Route, Switch } from \"react-router-dom\"\r\nimport routeConfig from \"./config/routeConfig\"\r\nimport { connect } from 'react-redux'\r\nimport Auth from './utils/Auth'\r\nimport { checkToken } from './redux/actions/global'\r\nconst createRoutes = function(routes) {\r\n    let children = []\r\n    const renderRoute = function(route) {\r\n        if (route.component && route.children) {\r\n            let childrenRoutes = createRoutes(route.children)\r\n            children.push(\r\n                <Route\r\n                    key={route.path}\r\n                    path={route.path}\r\n                    exact={route.exact ? route.exact : false}\r\n                    render={props => {\r\n                        return (\r\n                            <route.component {...props}>\r\n                                {childrenRoutes}\r\n                            </route.component>\r\n                        )\r\n                    }}\r\n                />\r\n            )\r\n        } else {\r\n            children.push(\r\n                <Route\r\n                    key={route.path}\r\n                    path={route.path}\r\n                    component={route.component}\r\n                    exact={route.exact ? route.exact : false}\r\n                />\r\n            )\r\n        }\r\n    }\r\n        \r\n    routes.forEach(item => renderRoute(item))\r\n    return <Switch>{children}</Switch>\r\n}\r\nclass AppRouter extends React.Component {\r\n    componentDidMount() {\r\n        const token = window.localStorage.getItem('token')\r\n        const { handleCheckToken } = this.props\r\n        if (token && token !== 'undefined') {\r\n            handleCheckToken(token)\r\n        }   \r\n    }\r\n    render() {\r\n        let routes = createRoutes(routeConfig)\r\n        return <Router><Route path='/' render={(props => <Auth {...props}>{routes}</Auth>)}></Route></Router>\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    handleCheckToken(token) {\r\n        dispatch(checkToken(token))\r\n    }\r\n})\r\nexport default connect(null, mapDispatchToProps)(AppRouter)","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport { Provider } from \"react-redux\"\r\nimport store from \"./redux/store\"\r\nimport * as serviceWorker from \"./serviceWorker\"\r\nimport fastclick from \"fastclick\"\r\nimport AppRouter from \"./router\"\r\nimport './assets/style/global.less'\r\nconst rootElement = document.getElementById(\"root\")\r\nfastclick.attach(document.body)\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <AppRouter />\r\n    </Provider>,\r\n    rootElement\r\n)\r\nif (module.hot) {\r\n    module.hot.accept(\"./router\", () => {\r\n        const AppRouter = require(\"./router\").default\r\n        ReactDOM.render(\r\n            <Provider store={store}>\r\n                <AppRouter />\r\n            </Provider>,\r\n            rootElement\r\n        )\r\n    })\r\n}\r\nserviceWorker.unregister()\r\n","import ajax from '../../config/ajax'\r\nimport parseData from '../../utils/parseData'\r\nconst SET_USER_INFO = 'global/SET_USER_INFO'\r\nconst SET_ALLTASKS = 'global/SET_ALLTASKS'\r\nconst SET_RANK = 'global/SET_RANK'\r\nconst initState = {\r\n    userInfo: {\r\n        token: '',\r\n        userName: '',\r\n        sex: '',\r\n        email: '',\r\n        avatar: '',\r\n        nickname: '',\r\n        score: 0\r\n    },\r\n    allTasks: [],\r\n    rank: []\r\n}\r\nexport default (state = initState, action = {}) => {\r\n  switch (action.type) {\r\n    case SET_USER_INFO:\r\n        const userInfo = action.userInfo\r\n        return {\r\n            ...state,\r\n            userInfo: userInfo,\r\n        }\r\n    case SET_ALLTASKS: {\r\n        return {\r\n            ...state,\r\n            allTasks: [...action.data]\r\n        }\r\n    }\r\n    case SET_RANK: {\r\n        return {\r\n            ...state,\r\n            rank: [...action.data]\r\n        }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const setUserInfo = (values) => ({\r\n    type: SET_USER_INFO,\r\n    userInfo: values\r\n})\r\n\r\nexport const checkToken = token => async dispatch => {\r\n    try {\r\n        const res = await ajax('/check_token', { token }, 'post')\r\n        const { code, data } = parseData(res)\r\n        if (code === 0) {\r\n            dispatch(setUserInfo(data))\r\n        }\r\n    } catch(e) {\r\n        console.log(e)\r\n    }\r\n}\r\n\r\nexport const setAllTasks = data => ({\r\n    type: SET_ALLTASKS,\r\n    data\r\n})\r\n\r\nexport const setRank = data => ({\r\n    type: SET_RANK,\r\n    data\r\n})\r\n\r\n","import ajax from '../../config/ajax'\r\nimport parseData from '../../utils/parseData'\r\nconst FETCH_LIST_BEGIN = 'discuss/FETCH_LIST_BEGIN'\r\nconst FETCH_LIST_SUCCESS = 'discuss/FETCH_LIST_SUCCESS'\r\nconst FETCH_LIST_ERROR = 'discuss/FETCH_LIST_ERROR'\r\nconst ADD_LIST_ITEM = 'discuss/ADD_LIST_ITEM'\r\nconst SET_USERINFO = 'discuss/SET_USERINFO'\r\nconst SET_COMMENTS = 'discuss/SET_COMMENTS'\r\nconst SET_ARTICLES = 'discuss/SET_ARTICLES'\r\nconst SET_LOADEND = 'discuss/SET_LOADEND'\r\nconst initState = {\r\n    items: [],\r\n    pageList: {},\r\n    total: 0,\r\n    fetchListPending: false,\r\n    fetchListError: null,\r\n    listNeedReload: false,\r\n    loadEnd: false,\r\n    userInfo: {},\r\n    comments: [],\r\n    articles: []\r\n}\r\nexport default (state = initState, action = {}) => {\r\n    switch (action.type) {\r\n        case FETCH_LIST_BEGIN:\r\n            return {\r\n                ...state,\r\n                fetchListPending: true,\r\n                fetchListError: null\r\n            }\r\n        case FETCH_LIST_SUCCESS: {\r\n            const list = {}\r\n            list[action.data.page] = true\r\n            return {\r\n                ...state,\r\n                items: [...state.items, ...action.data.items],\r\n                pageList: {\r\n                    ...state.pageList,\r\n                    ...list\r\n                },\r\n                fetchListPending: false,\r\n                fetchListError: null\r\n            }\r\n        }\r\n        case FETCH_LIST_ERROR: {\r\n            return {\r\n                ...state,\r\n                fetchListPending: true,\r\n                fetchListError: action.data\r\n            }\r\n        }\r\n\r\n        case ADD_LIST_ITEM: {\r\n            return {\r\n                ...state,\r\n                items: [action.data,...state.items]\r\n            }\r\n        }\r\n\r\n        case SET_USERINFO: {\r\n            return {\r\n                ...state,\r\n                userInfo: {\r\n                    ...action.data\r\n                }\r\n            }\r\n        }\r\n        case SET_COMMENTS: {\r\n            return {\r\n                ...state,\r\n                comments: [...action.data]\r\n            }\r\n        }\r\n        case SET_ARTICLES: {\r\n            return {\r\n                ...state,\r\n                articles: [...action.data]\r\n            }\r\n        }\r\n        case SET_LOADEND: {\r\n            return {\r\n                ...state,\r\n                loadEnd: true\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst fetchListPending = () => ({\r\n    type: FETCH_LIST_BEGIN\r\n})\r\n\r\nconst fetchListSuccess = (data) => ({\r\n    type: FETCH_LIST_SUCCESS,\r\n    data\r\n})\r\nconst fetchListError = (data) => ({\r\n    type: FETCH_LIST_ERROR,\r\n    data\r\n})\r\n\r\nexport const addListItem = data => ({\r\n    type: ADD_LIST_ITEM,\r\n    data\r\n})\r\n\r\nexport const setUserInfo = data => ({\r\n    type: SET_USERINFO,\r\n    data\r\n})\r\n\r\nexport const setComments = data => ({\r\n    type: SET_COMMENTS,\r\n    data\r\n})\r\nexport const setArticles = data => ({\r\n    type: SET_ARTICLES,\r\n    data\r\n})\r\n\r\nexport const setLoadEnd = () => ({\r\n    type: SET_LOADEND\r\n})\r\n\r\n\r\nexport const fetchDataList = (page) => async dispatch => {\r\n    dispatch(fetchListPending())\r\n    const res = await ajax('/getDailyPunch',{ page })\r\n    const {code, msg, data} = parseData(res)\r\n    \r\n    if (data.items.length === 0) {\r\n        dispatch(setLoadEnd())\r\n    }\r\n    if (code === 0) {\r\n        dispatch(fetchListSuccess({...data, page}))\r\n    } else {\r\n        dispatch(fetchListError(msg))\r\n    }\r\n}\r\n\r\n","export default {\r\n    imageBaseAddress: '/setFlag'\r\n}","import ajax from '../../config/ajax'\r\nimport parseData from '../../utils/parseData'\r\nconst SET_LOADED = 'flagSetting/SET_LOADED'\r\nconst SET_SUCCESS = 'flagSetting/SET_SUCCESS'\r\nconst SET_FLAGS = 'flagSetting/SET_FLAGS'\r\nconst SET_TASKS = 'flagSetting/SET_TASKS'\r\nconst initState = {\r\n    isLoaded: false,\r\n    isSuccess: false,\r\n    flags: [],\r\n    visible: false,\r\n    confirmLoading: false,\r\n    tasks: []\r\n}\r\nexport default (state = initState, action = {}) => {\r\n    switch (action.type) {\r\n        case SET_LOADED:\r\n            return {\r\n                ...state,\r\n                isLoaded: action.isLoaded\r\n            }\r\n        case SET_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isSuccess: action.isSuccess\r\n            }\r\n        case SET_FLAGS:\r\n            return {\r\n                ...state,\r\n                flags: [...action.flags]\r\n            }\r\n\r\n        case SET_TASKS:\r\n            return {\r\n                ...state,\r\n                tasks: [...action.tasks]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst setLoaded = isLoaded => ({\r\n    type: SET_LOADED,\r\n    isLoaded\r\n})\r\nconst setSuccess = isSuccess => ({\r\n    type: SET_SUCCESS,\r\n    isSuccess\r\n})\r\n\r\nconst setFlags = flags => ({\r\n    type: SET_FLAGS,\r\n    flags\r\n})\r\n\r\nexport const getFlags = ({ offset, page }) => async dispatch => {\r\n    try {\r\n        dispatch(setLoaded(true))\r\n        dispatch(setSuccess(false))\r\n        let res = await ajax('/getFlags', { offset, page })\r\n\r\n        let { code, data } = parseData(res)\r\n        if (code === 0) {\r\n            setTimeout(async () => {\r\n                dispatch(setLoaded(false))\r\n                dispatch(setSuccess(true))\r\n                dispatch(setFlags(data))\r\n            }, 500)\r\n        }\r\n    } catch(e) {\r\n        console.log(e)  \r\n    }\r\n}\r\n\r\n\r\n\r\nexport const setTasks = tasks => ({\r\n    type: SET_TASKS,\r\n    tasks\r\n}) \r\n\r\nexport const getTasks = () => async dispatch => {\r\n    if (!window.localStorage.getItem('token')) {\r\n        return\r\n    }\r\n    let res = await ajax('/getTasks', { token: window.localStorage.getItem('token') || '' })\r\n    let { code, data } = parseData(res)\r\n    if (code === 0) {\r\n        dispatch(setTasks(data))\r\n    }\r\n}\r\n\r\n\r\n\r\n","import ajax from '../../config/ajax'\r\nimport { message } from 'antd'\r\nimport { setUserInfo } from './global'\r\nimport parseData from '../../utils/parseData'\r\nconst GET_AVATAR = 'login/GET_AVATAR'\r\nconst initState = {\r\n    username: '',\r\n    avatar: ''\r\n}\r\nexport default (state = initState, action = {}) => {\r\n    switch (action.type) {\r\n        case GET_AVATAR:\r\n            return {\r\n                ...state,\r\n                avatar: action.avatar,\r\n                username: action.username\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nconst getAvatarAction = ({avatar, username}) => ({\r\n    type: GET_AVATAR,\r\n    avatar,\r\n    username\r\n})\r\nexport const getAvatar =  (username) => async (dispatch) => {\r\n    try {\r\n        let res = await ajax('/login/getAvator', { username }, 'post')\r\n        const {code, data} = parseData(res)\r\n        if (code === 0) {\r\n            dispatch(getAvatarAction({avatar: data.avatar, username}))\r\n        }\r\n    } catch(e) {\r\n        console.log(e)\r\n    }\r\n}\r\n\r\nexport const login = (userInfo) => async (dispatch) => {\r\n    try {\r\n        message.loading('正在登录...', 0)\r\n        const res = await ajax('/login', { ...userInfo }, 'post')\r\n        const {code, msg, data} = parseData(res)\r\n        message.destroy()\r\n        if (code === 0) {\r\n            message.success(msg, 2)\r\n            dispatch(setUserInfo(data))\r\n            window.localStorage.setItem('token', data.token)\r\n        } else {\r\n            message.error(msg, 3)\r\n        }\r\n    } catch(e) {\r\n        message.destroy()\r\n        message.error('登录失败,请检查网络状况', 3)\r\n        console.log(e)\r\n    }\r\n}"],"sourceRoot":""}